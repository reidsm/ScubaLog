<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="Logstyle.css">
        <link href='https://fonts.googleapis.com/css?family=Archivo+Narrow' rel='stylesheet'>
        <link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet'>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="./scripts/jquery.star.rating.js"></script>
    
        
        <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->
        <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-app.js"></script>
        <!-- Add Firebase products that you want to use -->
        <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-firestore.js"></script>
        <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
        <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
        <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyDG6WwVDEWYQoDYTknfV_z5Ml3n5pBOjFU",
            authDomain: "scubalogs-f466a.firebaseapp.com",
            databaseURL: "https://scubalogs-f466a.firebaseio.com",
            projectId: "scubalogs-f466a",
            storageBucket: "scubalogs-f466a.appspot.com",
            messagingSenderId: "39791069014",
            appId: "1:39791069014:web:03381d3ad726d71d1bb8f7"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();
    </script>

    <script src="./scripts/create_log.js"></script>

    </head>
    <body>
        <div id="header">
            <a href="index.html"><span id="backButton">&#10132;</span></a>
            <h1>ScubaLogs</h1>
        </div>
        <div id="body">
        <form>
            <div class="dataBox">
                <h3>TIME AND PLACE OF DIVE</h3>
                <input type="text" id="diveSite" placeholder="Dive Site Name">
                <input type="text" id="location" placeholder="City, Country of Dive Site">
                <input type="date" id="date">
                <input type="time" id="timeDescended">
            </div>
            <div class="dataBox">
                <h3>DIVE PROFILE</h3>
                <input type="number" id="depth" placeholder="Dive Depth (meters)">
                <input type="number" id="length" placeholder="Dive Length (minutes)">
                <textarea id="buddies" placeholder="Dive Buddies"></textarea>
            </div>
            <div class="dataBox">
                <h3>Performance</h3>
                <input type="number" id="totalWeight" placeholder="Total Weight to Descend (kg)">
                <p id="buoyancyLabel">Buoyancy Control: </p>
                <div id="buoyancy"></div>
            </div>
            <button type="button" id="submit" value="Submit" onclick="handleSubmit()">SUBMIT</button>
        </form>
        </div>
        <script>
            $( function(){
                $('#buoyancy').addRating();
            });
        </script>

        <script>
        
        function handleSubmit(){
            var diveSite = document.getElementById('diveSite').value;
            var location = document.getElementById('location').value;
            var date = document.getElementById('date').value;
            var timeDescended = document.getElementById('timeDescended').value;
            
            var depth = document.getElementById('depth').value;
            var length = document.getElementById('length').value;
            var buddies = document.getElementById('buddies').value;
            var weight = document.getElementById('totalWeight').value;
            // var buoyancyControl = document.getElementById('buoyancy').value;

            // console.log(diveSite, location, date, timeDescended, depth, length, buddies, weight);
            
            var logObject = {
                logDiveSite: diveSite,
                logLocation: location,
                logDate: date,
                logTimeDescended: timeDescended,
                logDepth: depth,
                logLength: length,
                logBuddies: buddies,
                logWeight: weight,
            };

            //console.log(logObject);
            createLog(logObject);
            
        }

        </script>

    </body>
</html>